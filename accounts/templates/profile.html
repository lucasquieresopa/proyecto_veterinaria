<!-- templates/home.html -->

{% extends 'home.html' %}   <!-- indica que hereda de base.html-->

{% block content %}


<main>
    

<div class="container card-izq " >
  <div class="row row-1">
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          
          <h5>{{ user.name }} {{ user.surname }}</h5>
          <p class="text-secondary">{{ user.email }}</p>
          <p class="text-muted">{{ user.bio }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-9">
      <div class="card mb-3">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Nombre Completo</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{ user.name }} {{ user.surname }}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Correo Electrónico</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{ user.email }}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Dirección</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{ user.address }}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Teléfono</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{ user.telephone }}
            </div>
          </div>
        </div>
      </div>


      
        <h2 class="text-center">Lista de perros del usuario:</h2>
          {% if dogs_shown.count > 0 %}
                  <table class="table table-hover">
                      <thead>
                          <tr>
                              <th>Nombre</th>
                              <th>Edad</th>
                              <th>Sexo</th>
                              <th>Raza</th>
                          </tr>
                      </thead>
                      <tbody>
                          {% for dog in dogs_shown %}

                                <tr>

                                    <td>{{ dog.name }}</td>
                                    <td>{{ dog.age }}</td>
                                    <td>{{ dog.sex }}</td>
                                    <td>{{ dog.breed }}</td>
                                    <td>
                                      <a class="dropdown-item" href="{% url 'dog_profile' user_owner_id=user.id dog_id=dog.id %}">Ver perro</a>
                                    </td>


                                </tr>
              
                          {% endfor %}
                      </tbody>
                  </table>
            {% else %}
            <div>
              <a>El usuario no posee perros visibles</a>
            </div>
            {% endif %}
      </div>
    </div>
  </div>
  {% if actual_user.is_veterinario %}
    <a href="{% url 'dog_registration' user.id %}" class="btn btn-primary">Añadir Perro</a>
    <a href="{% url 'hidden_dogs' user.id %}" class="btn btn-primary">Ver perros ocultos</a>
  {% endif %}
  </div>
  <a href="{% url 'home' %}" class="btn btn-primary">Volver</a>



</main>

{% endblock  %}